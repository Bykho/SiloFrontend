{"ast":null,"code":"var _jsxFileName = \"/Users/nicodevelopment/Desktop/SiloFrontend/src/frontend/pages/HomePagePage/HomePage.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useUser } from '../../contexts/UserContext';\nimport styles from './HomePage.module.css';\nimport config from '../../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const containerStyle = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: '20px'\n  };\n  const {\n    user,\n    loading,\n    isAuthenticated\n  } = useUser(); // Destructure user and loading directly from the context\n  console.log(\"This is the isAuthenticated truth value from HomePage.js: \", isAuthenticated);\n  const injectData = async () => {\n    try {\n      const response = await fetch(`${config.apiBaseUrl}/injectSampleData`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n          // Add Authorization header if your backend requires it\n        }\n      });\n      if (response.ok) {\n        alert('Sample data injected successfully!');\n      } else {\n        alert('Failed to inject sample data.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error injecting data.');\n    }\n  };\n  const handleKeyGeneration = async () => {\n    try {\n      //currently, you need to be logged in to make an access key. Thinking thats probably the right thing to do...\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${config.apiBaseUrl}/createAccessKey`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          created_by: user.sub\n        }) // Pass the user who created the key\n      });\n      if (response.ok) {\n        alert('Access key generated successfully!');\n      } else {\n        alert('Failed to generate access key.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error injecting data.');\n    }\n  };\n  const migrateProjects = async () => {\n    try {\n      const response = await fetch(`${config.apiBaseUrl}/migrateProjects`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n          // Add Authorization header if your backend requires it\n        }\n      });\n      if (response.ok) {\n        alert('Projects migrated successfully!');\n      } else {\n        alert('Failed to migrate projects.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error migrating projects.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      color: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Welcome to the Homepage, \", user ? user.sub : 'Guest']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '150px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: injectData,\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Inject Sample Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleKeyGeneration,\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Generate Access Key\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: migrateProjects,\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Migrate Projects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading user data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this) : user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"User Data taken from UserContext:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), Object.keys(user).map(key => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: `${key}: ${typeof user[key] === 'object' ? JSON.stringify(user[key], null, 2) : user[key]}`\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"User data not available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'grey'\n      },\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" isAuthenticated is true \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" isAuthenticated is false\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"8XpFDM782YGnBwbRAijy5wxb0/Y=\", false, function () {\n  return [useUser];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useUser","styles","config","jsxDEV","_jsxDEV","HomePage","_s","containerStyle","display","justifyContent","marginTop","user","loading","isAuthenticated","console","log","injectData","response","fetch","apiBaseUrl","method","headers","ok","alert","error","handleKeyGeneration","token","localStorage","getItem","body","JSON","stringify","created_by","sub","migrateProjects","style","padding","color","children","fileName","_jsxFileName","lineNumber","columnNumber","flexDirection","width","onClick","Object","keys","map","key","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/nicodevelopment/Desktop/SiloFrontend/src/frontend/pages/HomePagePage/HomePage.js"],"sourcesContent":["\n\n\nimport React from 'react';\nimport { useUser } from '../../contexts/UserContext';\nimport styles from './HomePage.module.css';\n\nimport config from '../../config'\n\n\nfunction HomePage() {\n  const containerStyle = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginTop: '20px',\n  };\n\n  const { user, loading, isAuthenticated } = useUser();  // Destructure user and loading directly from the context\n  console.log(\"This is the isAuthenticated truth value from HomePage.js: \", isAuthenticated)\n\n\n  const injectData = async () => {\n    try {\n      const response = await fetch(`${config.apiBaseUrl}/injectSampleData`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          // Add Authorization header if your backend requires it\n        },\n      });\n\n      if (response.ok) {\n        alert('Sample data injected successfully!');\n      } else {\n        alert('Failed to inject sample data.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error injecting data.');\n    }\n  };\n\n  const handleKeyGeneration = async () => {\n    try {\n      //currently, you need to be logged in to make an access key. Thinking thats probably the right thing to do...\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${config.apiBaseUrl}/createAccessKey`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json', \n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({ created_by: user.sub }) // Pass the user who created the key\n      }); \n\n      if (response.ok) {\n        alert('Access key generated successfully!');\n      } else {\n        alert('Failed to generate access key.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error injecting data.');\n    }\n  };\n\n\n  const migrateProjects = async () => {\n    try {\n      const response = await fetch(`${config.apiBaseUrl}/migrateProjects`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          // Add Authorization header if your backend requires it\n        },\n      });\n\n      if (response.ok) {\n        alert('Projects migrated successfully!');\n      } else {\n        alert('Failed to migrate projects.');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Error migrating projects.');\n    }\n  };\n\n\n  return (\n    <div style={{ padding: '20px', color: 'white' }}>\n      <h1>Welcome to the Homepage, {user ? user.sub : 'Guest'}</h1>\n      <div style={{display: 'flex', flexDirection: 'column', width: '150px'}}>\n        <button onClick={injectData} style={{ marginTop: '20px' }}>Inject Sample Data</button>\n        <button onClick={handleKeyGeneration} style={{ marginTop: '20px' }}>Generate Access Key</button>\n        <button onClick={migrateProjects} style={{ marginTop: '20px' }}>Migrate Projects</button>\n      </div>\n      {loading ? (\n        <p>Loading user data...</p>\n      ) : user ? (\n        <div>\n          <h2>User Data taken from UserContext:</h2>\n          {Object.keys(user).map((key) => (\n            <p key={key}>{`${key}: ${typeof user[key] === 'object' ? JSON.stringify(user[key], null, 2) : user[key]}`}</p>\n          ))}\n        </div>\n      ) : (\n        <p>User data not available.</p>\n      )}\n      <div style={{backgroundColor: 'grey'}}>\n        \n        {isAuthenticated ? (\n          <p> isAuthenticated is true </p>\n        ) : (\n          <p> isAuthenticated is false</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default HomePage;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}